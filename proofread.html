<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proofread Result - SmarText PDF</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="sidebar" id="sidebar">
        <div class="logo-container">
            <a href="index.html">
                <img src="SmarText PDF_sidebar-logo.svg" alt="SmarText PDF" class="logo">
            </a>
            <div class="hamburger" id="hamburger">
                <i class='bx bx-sidebar'></i>
            </div>
        </div>
        <div class="sidebar-file-style-icon">
            <img src="SmarText PDF_file-style-logo.svg" alt="File Style Logo" class="file-style-icon">
        </div>
        <div class="signup-btn">
            <button>Sign In</button>
            <p>Sign in for free to save and track your file proofreading history.</p>
        </div>
    </div>

    <button class="external-toggle" id="externalToggle">
        <i class='bx bx-sidebar bx-flip-horizontal'></i>
    </button>

    <div class="main-content" id="mainContent">
        <div class="document-controls">
            <div class="zoom-controls">
                <button id="zoomOut">âˆ’</button>
                <span class="page-refresh"><i class='bx bx-refresh'></i></span>
                <button id="zoomIn">+</button>
            </div>
            <div class="controls-right">
                <button onclick="speakProofreadContent()" class="audio-control">
                    <i class='bx bxs-volume-full' ></i>
                </button>
                <button id="downloadBtn" class="download-control">
                    <i class='bx bx-download'></i>
                </button>
            </div>
        </div>

        <div class="document-container">
            <div id="originalSection">
                <div class="section-header">
                    <h2>For Proofread.pdf</h2>
                </div>
                <div id="originalContent" class="document-content"></div>
            </div>

            <div id="proofreadSection">
                <div class="section-header">
                    <h2>Revision</h2>
                </div>
                <div id="proofreadContent" class="document-content"></div>
            </div>
        </div>
    </div>

    <script src="sidebar.js"></script>
    <script src="proofread.js"></script>
    <script>
    function speakProofreadContent() {
    let contentElement = document.getElementById("proofreadContent");

    if (!contentElement) {
        alert("Content section not found.");
        return;
    }

    let content = contentElement.innerText.trim(); // Get actual text

    if (!content) {
        alert("No text available to read.");
        return;
    }

    let speech = new SpeechSynthesisUtterance(content);

    // Get available voices
    let voices = window.speechSynthesis.getVoices();

    // Choose a female voice
    let femaleVoice = voices.find(voice => 
        voice.name.includes("Google UK English Female") || 
        voice.name.includes("Google US English") || 
        voice.name.includes("Samantha") || 
        voice.name.includes("Microsoft Zira")
    );

    if (femaleVoice) {
        speech.voice = femaleVoice;
        console.log("Using voice:", femaleVoice.name);
    } else {
        console.log("No specific female voice found, using default.");
    }

    speech.rate = 1.0;  // Adjust speed (1.0 = normal)
    speech.pitch = 1.2; // Slightly higher pitch for a more feminine tone

     // Stop any previous speech before starting a new one
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(speech);

        // Remove event listener to prevent looping
        window.speechSynthesis.onvoiceschanged = null;
}

if (window.speechSynthesis.getVoices().length === 0) {
        window.speechSynthesis.onvoiceschanged = setVoice;
    } else {
        setVoice();
    }

    </script>
</body>
</html> 
